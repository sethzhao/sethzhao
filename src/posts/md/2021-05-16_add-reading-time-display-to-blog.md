感觉文章列表还是单薄了点，想参考 [Overreacted](https://overreacted.io/) 加个阅读时间的显示。
首先搜一下 npm 有没有相关的包，找到 [reading-time](https://www.npmjs.com/package/reading-time) ，用的人还挺多的。

考虑在文章列表和文章内容页都引入这个包计算阅读时间，但发现问题：

1. 文章列表页没必要引入完整文章内容仅用于计算阅读时间。
2. md 文件引入后就会被插件变成组件，不方便计算字数。
2. 每次访问都实时计算，虽说性能消耗不大，但也没必要，内容是不会变的。

所以决定写个 script 来算阅读时间，加到文章的 data.json 里。

写脚本的过程中又遇到问题。

reading-item 算出来的字数远小于实际，不知道为什么，去看看源码吧。关键代码如下：

```javascript
for (i = start; i <= end;) {
  for (; i <= end && !wordBound(text[i]); i++);
  words++
  for (; i <= end && wordBound(text[i]); i++);
}
```

wordBound 判断字符是不是空格、换行、制表符等。看下来这段的意思是每到空格时字数加一。当时就很疑惑，到底是要算字数还是空格数？差点要提 issue 。

还好脑子开窍了，差点丢人现眼，英文的词不就是空格分割的吗？！

所以，中文要怎么办？其实这个库代码量很少，就是算出单词数，再除一下每分钟阅读词数得出结果。那就自己写吧，中文的话就算字数好了，偶有出现英文也不特殊考虑了，一律按字符长度算，除以搜索到的中文平均每分钟阅读字数，得出阅读时间。

# 自动化
安装 husky ，在 git pre-commit hook 执行计算阅读时间的脚本。
可以用 git commit --amend 将阅读时间的修改合并到原 commit 里。这里也许可以更自动化。
